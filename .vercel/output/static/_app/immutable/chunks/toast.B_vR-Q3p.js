import{w as M,r as b}from"./entry.BP7SI6wp.js";import{K as p,L as I,M as L}from"./scheduler.BKpD4Ueu.js";const P={message:"Missing Toast Message",autohide:!0,timeout:5e3},w="toastStore";function D(){const e=p(w);if(!e)throw new Error("toastStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return e}function R(){const e=E();return I(w,e)}function v(){const e=Math.random();return Number(e).toString(32)}function E(){const{subscribe:e,set:o,update:r}=M([]),a=s=>r(t=>{if(t.length>0){const i=t.findIndex(c=>c.id===s),n=t[i];n&&(n.callback&&n.callback({id:s,status:"closed"}),n.timeoutId&&clearTimeout(n.timeoutId),t.splice(i,1))}return t});function u(s){if(s.autohide===!0)return setTimeout(()=>{a(s.id)},s.timeout)}return{subscribe:e,close:a,trigger:s=>{const t=v();return r(i=>{s&&s.callback&&s.callback({id:t,status:"queued"}),s.hideDismiss&&(s.autohide=!0);const n={...P,...s,id:t};return n.timeoutId=u(n),i.push(n),i}),t},freeze:s=>r(t=>(t.length>0&&clearTimeout(t[s].timeoutId),t)),unfreeze:s=>r(t=>(t.length>0&&(t[s].timeoutId=u(t[s])),t)),clear:()=>o([])}}const f={};function h(e){return e==="local"?localStorage:sessionStorage}function m(e,o,r){const a=(r==null?void 0:r.serializer)??JSON,u=(r==null?void 0:r.storage)??"local";function s(t,i){h(u).setItem(t,a.stringify(i))}if(!f[e]){const t=M(o,c=>{const d=h(u).getItem(e);d&&c(a.parse(d));{const g=l=>{l.key===e&&c(l.newValue?a.parse(l.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:i,set:n}=t;f[e]={set(c){s(e,c),n(c)},update(c){const d=c(L(t));s(e,d),n(d)},subscribe:i}}return f[e]}const U=m("modeOsPrefers",!1),C=m("modeUserPrefers",void 0),z=m("modeCurrent",!1);function _(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return U.set(e),e}function H(e){C.set(e)}function A(e){const o=document.documentElement.classList,r="dark";e===!0?o.remove(r):o.add(r),z.set(e)}function K(){const e=document.documentElement.classList,o=localStorage.getItem("modeUserPrefers")==="false",r=!("modeUserPrefers"in localStorage),a=window.matchMedia("(prefers-color-scheme: dark)").matches;o||r&&a?e.add("dark"):e.remove("dark")}const S="(prefers-reduced-motion: reduce)";function O(){return window.matchMedia(S).matches}const N=b(O(),e=>{{const o=a=>{e(a.matches)},r=window.matchMedia(S);return r.addEventListener("change",o),()=>{r.removeEventListener("change",o)}}});function Q(e){return T(e,"variant-filled-error")}function V(e){return T(e,"variant-filled-success")}function T(e,o){return{message:e,background:o}}export{K as a,A as b,_ as c,H as d,Q as e,D as g,R as i,z as m,N as p,V as s};
